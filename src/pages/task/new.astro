---
export const serverOnly = true;
export const prerender = false;
import TaskForm from '../../components/TaskForm.astro';
import { actions } from "astro:actions";
import AppLayout from "../../layouts/Layout.astro";

const result = Astro.getActionResult(actions.task.createAction);

if (result && !result.error) {
  return Astro.redirect(`/task/${result.data.task?.id}`);
}
---
<AppLayout title="New task">
  <TaskForm />
</AppLayout>
